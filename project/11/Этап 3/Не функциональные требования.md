# НЕФУНКЦИОНАЛЬНЫЕ ТРЕБОВАНИЯ

**Веб-платформа для мониторинга криптовалютных ставок финансирования арбитража между спот и бессрочными фьючерс рынками на бирже BingX**

## 1. ПРОИЗВОДИТЕЛЬНОСТЬ

- **Загрузка страниц:** главная/дашборд — до 2 сек; таблица с парами — до 2 сек; детальная аналитика пары — до 3 сек; калькулятор арбитража — до 1 сек; исторические графики — до 3 сек
- **Авторизация и регистрация:** не более 2 секунд
- **Обновление рыночных данных:** автоматическое обновление каждые 30 секунд без перезагрузки страницы (WebSocket/SSE)
- **Получение данных с API BingX:** полный цикл (запрос → обработка → отображение) не более 1 секунды
- **Расчеты арбитража:** мгновенный пересчет при изменении параметров (до 200 мс)
- **Построение графиков:** за 24 часа — 1 сек; за 7 дней — 2 сек; за 30 дней — 3 сек; за 90 дней — 5 сек
- **Поиск и фильтрация:** результаты в течение 500 мс
- **Система должна обрабатывать:** минимум 100 запросов к API в секунду; до 1000 одновременных WebSocket соединений

## 2. НАДЁЖНОСТЬ И ДОСТУПНОСТЬ

- **Доступность платформы:** основной функционал — 99.7% времени (не более 2.2 часа простоя в месяц)
- **Критичные компоненты** (получение рыночных данных, расчет ставок): 99.9% (меньше часа в месяц)
- **Резервное копирование:** пользовательские данные и настройки — ежедневно; исторические данные ставок — каждые 6 часов; критичные настройки оповещений — в реальном времени
- **Время восстановления после сбоя (RTO):** не более 15 минут
- **При недоступности API BingX:** использование кэшированных данных с пометкой о времени последнего обновления
- **Отказоустойчивость:** автоматическое переключение на резервные API endpoints; повторные попытки при сбоях (с экспоненциальной задержкой)
- **Все финансовые расчеты** должны быть детерминированными и воспроизводимыми

## 3. БЕЗОПАСНОСТЬ

- **Аутентификация:** обязательное подтверждение email при регистрации
- **Пароль:** минимум 10 символов, включая заглавные/строчные буквы, цифры и спецсимволы
- **Хеширование паролей:** Argon2id или bcrypt (минимум 12 раундов)
- **Весь трафик:** только HTTPS (TLS 1.2+)
- **API ключи BingX:** шифрование в БД (AES-256); доступ только для чтения; возможность отзыва в любой момент
- **Защита от атак:** SQL Injection, XSS, CSRF, rate limiting
- **Сессии:** JWT токены с временем жизни 24 часа; refresh токены — 7 дней
- **Двухфакторная аутентификация (2FA):** опциональная поддержка через TOTP
- **Логирование безопасности:** все попытки входа, изменения настроек, добавление/изменение API ключей
- **Изоляция данных:** строгое разделение данных между пользователями

## 4. МАСШТАБИРУЕМОСТЬ

- **Начальная ёмкость:** 1,000 активных пользователей; 500 торговых пар; 100,000 записей исторических данных в день
- **Целевая ёмкость:** 10,000 активных пользователей; 1,000 торговых пар; 1,000,000 записей исторических данных в день
- **Одновременно онлайн:** до 2,000 пользователей
- **Оповещения:** до 50,000 активных правил оповещений
- **Портфель позиций:** до 100 активных позиций на пользователя
- **Архитектура:** микросервисная архитектура с возможностью горизонтального масштабирования; кэширование на уровне Redis; CDN для статических ресурсов

## 5. УДОБСТВО ИСПОЛЬЗОВАНИЯ

- **Интуитивный интерфейс:** не более 3 кликов для доступа к основным функциям
- **Онбординг:** интерактивный тур для новых пользователей
- **Визуализация данных:** цветовая индикация прибыльности (зеленый/красный); всплывающие подсказки с пояснениями метрик
- **Настраиваемый дашборд:** drag-and-drop виджеты; сохранение пользовательских макетов
- **Понятные сообщения об ошибках:** с четкими инструкциями по исправлению
- **Контекстная помощь:** tooltips для всех финансовых терминов
- **Горячие клавиши:** для основных операций (обновление данных, переключение между вкладками)

## 6. СОВМЕСТИМОСТЬ

- **Браузеры:** Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **Операционные системы:** Windows 10+, macOS 11+, Ubuntu 20.04+
- **Разрешения экрана:** от 1280×720 до 4K (3840×2160)
- **API интеграции:** REST API с BingX v3; формат данных JSON; кодировка UTF-8
- **Экспорт данных:** CSV, JSON, Excel (.xlsx), PDF для отчетов

## 7. МОБИЛЬНОСТЬ

- **Адаптивный дизайн:** полная функциональность на экранах от 375px до 4K
- **Touch-оптимизация:** элементы управления минимум 44×44px
- **Производительность на мобильных:** загрузка на 4G — до 3 сек; на 3G — до 6 сек
- **Progressive Web App (PWA):** возможность установки на домашний экран; работа в оффлайн-режиме с кэшированными данными
- **Мобильная навигация:** свайпы для переключения между вкладками; pull-to-refresh для обновления данных

## 8. ИНТЕГРАЦИЯ С БИРЖЕЙ

- **API BingX:** соответствие rate limits (максимум 20 запросов/сек для публичных данных)
- **Получение данных:** REST API для исторических данных; WebSocket для real-time обновлений
- **Обработка ошибок API:** автоматические повторные попытки с backoff; fallback на альтернативные endpoints
- **Синхронизация времени:** использование времени сервера биржи; компенсация network latency
- **Валидация данных:** проверка целостности и корректности получаемых данных

## 9. ХРАНЕНИЕ ДАННЫХ

- **База данных:** PostgreSQL 14+ для основных данных; TimescaleDB для временных рядов; Redis для кэширования и сессий
- **Объем хранения:** начальный — 50 ГБ; масштабирование до 1 ТБ
- **Хранение исторических данных:** полные данные за 1 год; агрегированные данные за 3 года
- **Архивирование:** автоматическое архивирование данных старше 1 года
- **Логи приложения:** ротация каждые 7 дней; хранение 90 дней
- **Backup retention:** ежедневные бэкапы — 30 дней; еженедельные — 3 месяца; ежемесячные — 1 год

## 10. УВЕДОМЛЕНИЯ И ОПОВЕЩЕНИЯ

- **Каналы уведомлений:** Email (обязательно); Browser push notifications; Telegram bot (опционально); Webhook для внешних систем
- **Время доставки критичных оповещений:** в течение 10 секунд после срабатывания условия
- **Типы уведомлений:** превышение порога funding rate; изменение спреда; аномальная волатильность; приближение к ликвидации позиции
- **Управление частотой:** группировка однотипных оповещений; настраиваемый cooldown период (минимум 5 минут)
- **История уведомлений:** хранение 30 дней с возможностью поиска и фильтрации

## 11. ДОПОЛНИТЕЛЬНЫЕ ТРЕБОВАНИЯ

- **Локализация:** английский язык (основной); возможность добавления других языков
- **Часовые пояса:** отображение времени в UTC и локальном часовом поясе пользователя
- **Точность расчетов:** вычисления с точностью до 8 знаков после запятой; использование библиотек для работы с decimal
- **Тестирование:** unit-тесты с покрытием 80%+; интеграционные тесты для критичных сценариев; e2e тесты основных user flow
- **Мониторинг:** метрики производительности (Prometheus/Grafana); error tracking (Sentry); uptime monitoring
- **Документация:** API документация (OpenAPI/Swagger); пользовательская документация; база знаний по арбитражным стратегиям
- **Соответствие стандартам:** GDPR для обработки персональных данных; финансовые расчеты согласно общепринятым методикам
- **Обслуживание:** плановые работы только в выходные с 03:00 до 06:00 UTC; предупреждение за 48 часов