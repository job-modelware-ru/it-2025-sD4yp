@startuml
skinparam monochrome true
left to right direction

actor "Гость" as Guest
actor "Трейдер" as Trader
actor "Администратор" as Admin

rectangle "Система мониторинга арбитража" {
  (Регистрация и восстановление\nдоступа) as UC0
  (Добавить API ключ BingX\nс правами только для чтения) as UC00
  
  (Мониторить ставки финансирования\nв реальном времени) as UC1
  (Анализировать исторические\nданные и графики) as UC2
  (Настраивать и управлять\nоповещения) as UC3
  (Рассчитывать арбитражные\nстратегии) as UC4
  (Управлять портфелем\nпозиций) as UC5
  (Экспортировать данные\nдля анализа) as UC6
  
  (Мониторить статус\nAPI BingX) as UC7
  /'(Управлять доступом\nк API биржи) as UC8'/
  (Обновлять алгоритмы\nрасчетов) as UC9
  (Просматривать логи\nошибок и исключений) as UC10
  (Управлять пользователями\nи блокировать аккаунты) as UC11
}

Guest --> UC0

Trader --> UC00
Trader --> UC1
Trader --> UC2
Trader --> UC3
Trader --> UC4
Trader --> UC5
Trader --> UC6

Admin --> UC7
/'Admin --> UC8'/
Admin --> UC9
Admin --> UC10
Admin --> UC11

note left of UC0
  <b>Функции регистрации:</b>
  • Создание аккаунта по email
  • Подтверждение email
  • Восстановление пароля
  • Настройка профиля
end note

note right of UC00
  <b>Безопасность:</b>
  • Только права на чтение
  • Шифрование ключей
  • Тестирование подключения
  <b>Требования:</b>
  API ключ с разрешениями
  на просмотр данных
end note

note right of UC1
  <b>Частота обновления:</b>
  Каждые 30 секунд
  <b>Данные:</b>
  Текущие ставки, спреды,
  время до следующего платежа
end note

note right of UC3
  <b>Триггеры алертов:</b>
  • Превышение пороговых значений
  • Изменение знака ставки
  • Аномальная волатильность
  <b>Уведомления:</b>
  Email, push-уведомления
end note

note right of UC4
  <b>Параметры расчета:</b>
  • Доступный капитал
  • Кредитное плечо
  • Период удержания
  • Комиссии биржи
  <b>Результаты:</b>
  Чистая прибыль, риски ликвидации
end note

note right of UC7
  <b>Мониторинг:</b>
  • Статус подключения
  • Количество запросов
  • Лимиты API
  • Время ответа
end note

/'UC1 .> UC2 : <<include>>'/
/'UC3 .> UC1 : <<extend>>'/
/'UC4 .> UC2 : <<include>>'/

/'UC00 .> UC1 : <<include>>'/
/'UC00 .> UC2 : <<include>>'/
/'UC0 .> UC00 : <<extend>>'/

@enduml